<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>è·³è¡¨-åŸç†ç¯‡ | Crayonã®åšå®¢</title><meta name="author" content="é­šç¦¾"><meta name="copyright" content="é­šç¦¾"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="article">
<meta property="og:title" content="è·³è¡¨-åŸç†ç¯‡">
<meta property="og:url" content="http://sucrayon.top/posts/2e152a56/index.html">
<meta property="og:site_name" content="Crayonã®åšå®¢">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://sucrayon.top/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%8E%9F%E7%90%86%E7%AF%87.jpg">
<meta property="article:published_time" content="2025-01-23T15:41:15.000Z">
<meta property="article:modified_time" content="2025-01-23T15:41:15.000Z">
<meta property="article:author" content="é­šç¦¾">
<meta property="article:tag" content="æ•°æ®ç»“æ„">
<meta property="article:tag" content="è·³è¡¨">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://sucrayon.top/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%8E%9F%E7%90%86%E7%AF%87.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "è·³è¡¨-åŸç†ç¯‡",
  "url": "http://sucrayon.top/posts/2e152a56/",
  "image": "http://sucrayon.top/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%8E%9F%E7%90%86%E7%AF%87.jpg",
  "datePublished": "2025-01-23T15:41:15.000Z",
  "dateModified": "2025-01-23T15:41:15.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "é­šç¦¾",
      "url": "http://sucrayon.top/"
    }
  ]
}</script><link rel="shortcut icon" href="/images/avatar.jpg"><link rel="canonical" href="http://sucrayon.top/posts/2e152a56/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-8421850827711566',
  enable_page_level_ads: 'true'
});</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":150,"languages":{"author":"ä½œè€…: é­šç¦¾","link":"é“¾æ¥: ","source":"æ¥æº: Crayonã®åšå®¢","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'è·³è¡¨-åŸç†ç¯‡',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/static/css/common.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load', preloader.endLoading)

  if (false) {
    btf.addGlobalFn('pjaxSend', preloader.initLoading, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', preloader.endLoading, 'preloader_end')
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "/images/loading.gif" data-lazy-src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">15</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/projects/"><i class="fa-fw fas fa-code"></i><span> é¡¹ç›®</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-heartbeat"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/novel/"><i class="fa-fw fas fa-book-open"></i><span> å°è¯´</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å¤–é“¾</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/images/cover/data-structure/skip-list/è·³è¡¨-åŸç†ç¯‡.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Crayonã®åšå®¢</span></a><a class="nav-page-title" href="/"><span class="site-name">è·³è¡¨-åŸç†ç¯‡</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/projects/"><i class="fa-fw fas fa-code"></i><span> é¡¹ç›®</span></a></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-heartbeat"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/novel/"><i class="fa-fw fas fa-book-open"></i><span> å°è¯´</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å¤–é“¾</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">è·³è¡¨-åŸç†ç¯‡</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-01-23T15:41:15.000Z" title="å‘è¡¨äº 2025-01-23 23:41:15">2025-01-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-01-23T15:41:15.000Z" title="æ›´æ–°äº 2025-01-23 23:41:15">2025-01-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E8%B7%B3%E8%A1%A8/">è·³è¡¨</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>9åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="leancloud_visitors" id="/posts/2e152a56/" data-flag-title="è·³è¡¨-åŸç†ç¯‡"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span class="leancloud-visitors-count"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/posts/2e152a56/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/posts/2e152a56/" itemprop="commentCount"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><html><head></head><body><h2 id="ä»€ä¹ˆæ˜¯è·³è¡¨"><a href="#ä»€ä¹ˆæ˜¯è·³è¡¨" class="headerlink" title="ä»€ä¹ˆæ˜¯è·³è¡¨"></a>ä»€ä¹ˆæ˜¯è·³è¡¨</h2><p>è·³è¡¨ï¼ˆä¹Ÿå¯ä»¥å«è·³è·ƒè¡¨ï¼Œè‹±æ–‡åï¼š<em>Skip List</em>ï¼‰æ˜¯ç”±<em>William Pugh</em>å‘æ˜çš„ä¸€ç§æŸ¥æ‰¾æ•°æ®ç»“æ„ï¼Œæ”¯æŒå¯¹æ•°æ®çš„å¿«é€ŸæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤</p>
<p>OI Wikiï¼š<a target="_blank" rel="noopener" href="https://oi-wiki.org/ds/skiplist/">è·³è¡¨ - OI Wiki</a></p>
<p>è®ºæ–‡åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://15721.courses.cs.cmu.edu/spring2018/papers/08-oltpindexes1/pugh-skiplists-cacm1990.pdf">skiplists</a></p>
<p>è®ºæ–‡å¼€ç¯‡å°±è¯´æ˜äº†è¿™æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥ä»£æ›¿å¹³è¡¡æ ‘çš„æ•°æ®ç»“æ„ï¼ˆå¹³è¡¡æ ‘çš„å®ç°å®åœ¨æ˜¯å¤ªå¤æ‚äº†ğŸ˜©ï¼‰</p>
<p>ä¸å¹³è¡¡æ ‘ç›¸æ¯”ï¼Œè·³è¡¨çš„æ’å…¥å’Œåˆ é™¤ç®—æ³•è¦ç®€å•å¾—å¤š</p>
<h3 id="BSTå­˜åœ¨çš„é—®é¢˜"><a href="#BSTå­˜åœ¨çš„é—®é¢˜" class="headerlink" title="BSTå­˜åœ¨çš„é—®é¢˜"></a>BSTå­˜åœ¨çš„é—®é¢˜</h3><blockquote>
<p>  Binary trees can be used for representing abstract data types such as dictionaries and ordered lists. They work well when the elements are inserted in a random order. Some sequences of operations, such as inserting the elements in order, produce degenerate data structures that give very poor performance. If it were possible to randomly permute the list of items to be in serted, trees would work well with high probability for any in put sequence. In most cases queries must be answered on-line, so randomly permuting the input is impractical. Balanced tree algorithms re-arrange the tree as operations are performed to maintain certain balance conditions and assure good perfor mance.</p>
</blockquote>
<p>è®ºæ–‡ä¸­æåˆ°ï¼Œå¯¹äºäºŒå‰æœç´¢æ ‘è€Œè¨€ï¼Œå½“æ’å…¥çš„æ•°æ®æ˜¯é¡ºåºçš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿé€€åŒ–</p>
<p>äºŒå‰æœç´¢æ ‘ï¼ˆ<code>BST</code>ï¼Œ<em>Binary Search Tree</em>ï¼‰ï¼Œæ˜¯ä¸€ç§å…·æœ‰ç‰¹æ®Šæ’åºæ€§è´¨çš„äºŒå‰æ ‘ï¼Œé€šè¿‡åœ¨æ’å…¥æ•°æ®æ—¶ä¿è¯é¡ºåºä»¥ä¾¿åç»­èƒ½å¿«é€Ÿæ£€ç´¢</p>
<p>ç†æƒ³æƒ…å†µä¸‹<code>BST</code>å‘ˆç°ç±»ä¼¼ä»¥ä¸‹çš„ç»“æ„ï¼Œèƒ½å¤Ÿè¾¾åˆ°ç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆæœ</p>
<pre><code class="highlight mermaid">graph TD;
    A[7] --&gt; B[3];
    A --&gt; C[9];
    B --&gt; D[1];
    B --&gt; E[5];
    E --&gt; F[4];
    E --&gt; G[6];
    C --&gt; H[8];
    C --&gt; I[10];</code></pre>

<p>ä½†æ˜¯å½“æ’å…¥çš„æ•°æ®åºåˆ—å°±æ˜¯æœ‰åºçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°é€€åŒ–æˆé“¾è¡¨çš„æƒ…å†µ</p>
<pre><code class="highlight mermaid">graph TD;
    A[2] --&gt; B[1];
    A --&gt; C[3];
    C --&gt; D[4];
    D --&gt; E[5];
    E --&gt; F[6];</code></pre>

<p><a target="_blank" rel="noopener" href="https://gallery.selfboot.cn/zh/algorithms/binarysearchtree">äºŒå‰æœç´¢æ ‘å¯è§†åŒ–</a></p>
<p>å…³äºé€€åŒ–çš„é—®é¢˜ä¹Ÿå¯ä»¥çœ‹çœ‹å°ç°çš„æ¼«ç”»è®²è§£</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIxMjE5MTE1Nw==&amp;mid=2653190879&amp;idx=1&amp;sn=1916d0f6e72f34408261d70d13eecf5b&amp;chksm=8c990805bbee81137dd6cadbe7b69cf84020233385cc5d7cee778d10977b6f9b28ea235b93e0&amp;scene=21#wechat_redirect">æ¼«ç”»ï¼šä»€ä¹ˆæ˜¯è·³è·ƒè¡¨ï¼Ÿ</a></p>
<h2 id="è·³è¡¨çš„ç»“æ„"><a href="#è·³è¡¨çš„ç»“æ„" class="headerlink" title="è·³è¡¨çš„ç»“æ„"></a>è·³è¡¨çš„ç»“æ„</h2><p>é’ˆå¯¹<code>BST</code>ä¼šé€€åŒ–æˆé“¾è¡¨çš„é—®é¢˜ï¼Œæˆ–è€…è¯´é’ˆå¯¹é“¾è¡¨æˆ‘ä»¬æƒ³è¦æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³æˆ‘ä»¬å¯ä»¥å»ºç«‹å¤šçº§ç´¢å¼•çš„æ¦‚å¿µ</p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737649458888.png" alt="1737649458888"></p>
<p>åŸè®ºæ–‡ä¸­å°±æœ‰æåˆ°åƒ<code>AVL</code>ç­‰å¼ºåˆ¶å¹³è¡¡ï¼ˆç»“æ„å®šä¹‰æ¯”è¾ƒå¤æ‚ï¼Œæ¯æ¬¡æ“ä½œéƒ½è¦ä¿è¯ç»“æ„çš„æ­£ç¡®æ€§ï¼‰ï¼Œå¯¼è‡´å¯èƒ½æœ€ç»ˆçš„æ€§èƒ½å¾ˆå¥½ï¼Œä½†æ˜¯ä»£ç çš„å®ç°éš¾åº¦å¯èƒ½ç›´æ¥å¯¼è‡´å…¶ä»–äººæ— æ³•ç»´æŠ¤å’Œæ‰©å±•</p>
<p>è®ºæ–‡åŸæ–‡æ˜¯è¿™ä¹ˆæè¿°çš„ï¼š</p>
<blockquote>
<p>Second, if the algorithm is complex, programmers are de terred from implementing optimizations. For example, bal anced tree algorithms are normally described using recursive insert and delete procedures, since that is the most simple and intuitive method of describing the algorithms. A recursive in sert or delete procedure incurs a procedure call overhead. By using non-recursive insert and delete procedures, some of this overhead can be eliminated. However, the complexity of non recursive algorithms for insertion and deletion in a balanced tree is intimidating and this complexity deters most program mers from eliminating recursion in these routines.</p>
<p>  â€¦</p>
<p>From a theoretical point of view, there is no need for skip lists. Balanced trees can do everything that can be done with skip lists and have good worst-case time bounds (unlike skip lists). However, implementing balanced trees is an exacting task and as a result balanced tree algorithms are rarely imple mented except as part of a programming assignment in a data structures class. Skip lists are a simple data structure that can be used in place of balanced trees for most applications. Skip lists algo rithms are very easy to implement, extend and modify. Skip lists are about as fast as highly optimized balanced tree algo rithms and are substantially faster than casually implemented balanced tree algorithms.</p>
</blockquote>
<p>è·³è¡¨è®¾è®¡ä¸Šçš„ä¸€ä¸ªå·§å¦™çš„ç‚¹å°±åœ¨äºä¸å¼ºåˆ¶ç»´æŠ¤ç´¢å¼•å±‚çº§ï¼ˆå°±æ˜¯è¿™ä¸ªè®¾è®¡æ—¢å…¼é¡¾äº†æ€§èƒ½ä¹Ÿç®€åŒ–äº†ä»£ç å®ç°ï¼‰</p>
<p>æ’å…¥èŠ‚ç‚¹çš„æ—¶å€™éšæœºç”Ÿæˆç´¢å¼•å±‚çº§æ•°</p>
<h3 id="Initializationï¼ˆåˆå§‹åŒ–ï¼‰"><a href="#Initializationï¼ˆåˆå§‹åŒ–ï¼‰" class="headerlink" title="Initializationï¼ˆåˆå§‹åŒ–ï¼‰"></a>Initializationï¼ˆåˆå§‹åŒ–ï¼‰</h3><blockquote>
<p>  An element NIL is allocated and given a key greater than any legal key. All levels of all skip lists are terminated with NIL. A new list is initialized so that the the level of the list is equal to 1 and all forward pointers of the listâ€™s header point to NIL.</p>
</blockquote>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737706482282.png" alt="1737706482282"></p>
<p>åˆ†é…ä¸€ä¸ª<code>NIL</code>èŠ‚ç‚¹ï¼ˆè¿™ä¸ªèŠ‚ç‚¹çš„é”®å¤§äºä»»ä½•å…ƒç´ ï¼‰ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹çš„æ‰€æœ‰çº§åˆ«çš„æŒ‡é’ˆæœ€ç»ˆéƒ½ä»¥<code>NIL</code>ä¸ºç»ˆç‚¹</p>
<h3 id="Searchï¼ˆæŸ¥æ‰¾ï¼‰"><a href="#Searchï¼ˆæŸ¥æ‰¾ï¼‰" class="headerlink" title="Searchï¼ˆæŸ¥æ‰¾ï¼‰"></a>Searchï¼ˆæŸ¥æ‰¾ï¼‰</h3><p>é€šè¿‡éå†å‰è¿›æŒ‡é’ˆæ¥æœç´¢å…ƒç´ </p>
<div class="note warning flat"><p>æ³¨æ„ï¼šéå†æ—¶ä¸ä¼šè¶Šè¿‡æ­£åœ¨æœç´¢çš„å…ƒç´ çš„èŠ‚ç‚¹ï¼Œå½“å½“å‰å±‚çº§æ— æ³•æ‰¾åˆ°æŒ‡å®šå…ƒç´ æ—¶ï¼Œéœ€è¦å‘ä¸‹ä¸€å±‚çº§æœç´¢</p>
</div>

<h4 id="ç®—æ³•ä¼ªä»£ç "><a href="#ç®—æ³•ä¼ªä»£ç " class="headerlink" title="ç®—æ³•ä¼ªä»£ç "></a>ç®—æ³•ä¼ªä»£ç </h4><p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737706994096.png" alt="1737706994096"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for i := list-&gt;level downto 1 do</span><br><span class="line">	// ç¬¬ä¸€å±‚å¾ªç¯ï¼Œä»ä¸Šåˆ°ä¸‹çš„å±‚çº§éå†</span><br><span class="line">	while x-&gt;forward[i]-&gt;key &lt; searchKey do</span><br><span class="line">		// ç¬¬äºŒå±‚å¾ªç¯ï¼Œä»å·¦åˆ°å³éå†ï¼Œåªæœ‰èŠ‚ç‚¹å°äºsearchKeyæ‰èƒ½å‰è¿›ï¼ˆå› ä¸ºæ˜¯ä»ä¸Šåˆ°ä¸‹éå†ï¼ŒèŠ‚ç‚¹å°äºè¯´æ˜searchKeyå¯¹åº”çš„èŠ‚ç‚¹ä¸€å®šåœ¨è¯¥èŠ‚ç‚¹ ä¹‹åï¼Œæ‰€ä»¥å¯ä»¥å‰è¿›ï¼‰</span><br><span class="line">		x := x-&gt;forward[i]</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h4 id="é€æ­¥è§£æ"><a href="#é€æ­¥è§£æ" class="headerlink" title="é€æ­¥è§£æ"></a>é€æ­¥è§£æ</h4><p>ä»¥æœç´¢12èŠ‚ç‚¹ä¸ºä¾‹å­</p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737708513748.png" alt="1737708513748"></p>
<div class="note info flat"><p><strong>ç¬¦å·è¯´æ˜</strong><br><code>NIL</code>ï¼šç»ˆç‚¹ï¼ˆè¡¨ç¤ºæ— ç©·å¤§ï¼Œæœç´¢åˆ°è¿™ä¸ªèŠ‚ç‚¹è¡¨ç¤ºå¿…é¡»å‘ä¸‹æœç´¢ï¼Œå³æœ¬å±‚éå†ç»“æŸï¼‰<br><code>HEAD</code>ï¼šå¤´èŠ‚ç‚¹<br><code>x</code>ï¼šå½“å‰èŠ‚ç‚¹<br><code>x.forward[i]</code>ï¼šè¡¨ç¤ºxçš„ç¬¬i+1å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆi+1å±‚çš„å‰è¿›æŒ‡é’ˆï¼‰<br><code>x.forward[i].key</code>ï¼šè¡¨ç¤ºxçš„ç¬¬i+1å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„key</p>
</div>

<ol start="0">
<li><p>åˆå§‹åŒ–<code>x=HEAD</code></p>
</li>
<li><p><code>x.forward[3].key</code>ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€6ã€‘ï¼‰ï¼Œ6å°äº12ï¼Œ<code>x = x.forward[3]</code>ï¼ˆå‰è¿›ï¼‰</p>
</li>
<li><p><code>x.forward[3].key</code>ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€<code>NIL</code>ã€‘ï¼‰ï¼Œ<code>NIL</code>è¡¨ç¤ºç»ˆç‚¹ï¼ˆæ— ç©·å¤§ï¼‰ï¼Œ<code>i--</code>ï¼ˆå‘ä¸‹æœç´¢ï¼‰</p>
</li>
<li><p><code>x.forward[2].key</code>ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€25ã€‘ï¼‰ï¼Œ25å¤§äº12ï¼Œ<code>i--</code>ï¼ˆå‘ä¸‹æœç´¢ï¼‰</p>
</li>
<li><p><code>x.forward[1].key</code>ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€9ã€‘ï¼‰ï¼Œ9å°äº12ï¼Œ<code>x = x.forward[1]</code>ï¼ˆå‰è¿›ï¼‰</p>
</li>
<li><p><code>x.forward[1].key</code>ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€25ã€‘ï¼‰ï¼Œ25å¤§äº12ï¼Œ<code>i--</code>ï¼ˆå‘ä¸‹æœç´¢ï¼‰</p>
</li>
<li><p><code>x.forward[0].key</code>ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€12ã€‘ï¼‰ï¼Œ12ç­‰äº12ï¼Œ<code>i--</code>ï¼ˆå‘ä¸‹æœç´¢ï¼‰</p>
</li>
<li><p><code>i&lt;0</code>è¡¨ç¤ºæ²¡æœ‰åœ¨ä¸‹ä¸€å±‚äº†ï¼Œéå†ï¼ˆå¾ªç¯ï¼‰ç»“æŸï¼Œ<code>x</code>åœç•™åœ¨èŠ‚ç‚¹ã€12ã€‘çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹ã€9ã€‘ï¼‰</p>
</li>
<li><p><code>x.forward[0].key</code>æ˜¯å¦ç­‰äº12ï¼Œå¦‚æœæ˜¯åˆ™è¯´æ˜æ‰¾åˆ°ç›®æ ‡ï¼Œä¸æ˜¯åˆ™è¡¨ç¤ºç›®æ ‡ä¸åœ¨è·³è¡¨å†…</p>
</li>
</ol>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ªéå†çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªæ‰¾å‰é©±èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œæ‰¾åˆ°ç­‰äºç›®æ ‡å€¼çš„èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</p>
<h3 id="éšæœºå‡½æ•°ï¼ˆRandom-Levelï¼‰"><a href="#éšæœºå‡½æ•°ï¼ˆRandom-Levelï¼‰" class="headerlink" title="éšæœºå‡½æ•°ï¼ˆRandom Levelï¼‰"></a>éšæœºå‡½æ•°ï¼ˆRandom Levelï¼‰</h3><p>è·³è¡¨ä½¿ç”¨éšæœºçš„æ–¹å¼æ¥ç”Ÿæˆæ–°èŠ‚ç‚¹çš„å±‚é«˜</p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737712483120.png" alt="1737712483120"></p>
<h3 id="Insertionï¼ˆæ’å…¥ï¼‰"><a href="#Insertionï¼ˆæ’å…¥ï¼‰" class="headerlink" title="Insertionï¼ˆæ’å…¥ï¼‰"></a>Insertionï¼ˆæ’å…¥ï¼‰</h3><p>ç†è§£äº†æœç´¢çš„è¿‡ç¨‹ï¼Œæ’å…¥æ“ä½œä¹Ÿå¾ˆå¥½ç†è§£ï¼Œæœ¬è´¨å°±æ˜¯æ‰¾åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹å¹¶å°†å€¼æ’å…¥çš„è¿‡ç¨‹ï¼ˆä¸ç†Ÿæ‚‰çš„å»ºè®®å¤ä¹ ä¸‹é“¾è¡¨çš„æ’å…¥æ“ä½œğŸ˜ï¼‰</p>
<h4 id="ç®—æ³•ä¼ªä»£ç -1"><a href="#ç®—æ³•ä¼ªä»£ç -1" class="headerlink" title="ç®—æ³•ä¼ªä»£ç "></a>ç®—æ³•ä¼ªä»£ç </h4><p>å…ˆä¸Šè®ºæ–‡çš„ä¼ªä»£ç </p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737709368360.png" alt="1737709368360"></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Insert(list, searchKey, newValue)</span><br><span class="line">	local update[1...MaxLevel]</span><br><span class="line">	x := list-&gt;header</span><br><span class="line">	// è¿™ä¸€æ­¥å’Œæœç´¢çš„ä»£ç ä¸€æ ·ï¼Œæ‰¾åˆ°å‰é©±èŠ‚ç‚¹</span><br><span class="line">	for i := list-&gt;level downto 1 do</span><br><span class="line">		while x-&gt;forward[i].key &lt; searchKey do</span><br><span class="line">			x := x-&gt;forward[i]</span><br><span class="line">		-- x-&gt;key &lt; searchKey &lt;= x-&gt;forward[i]-&gt;key</span><br><span class="line">		// è®°å½•äº†éå†è·¯å¾„ä¸­æ¯å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">		update[i] := x</span><br><span class="line">	x := x-&gt;forward[i]</span><br><span class="line">	// å¦‚æœç›¸åŒåˆ™ç›´æ¥æ›´æ–°å€¼</span><br><span class="line">	if x-&gt;key = searchKey then x-&gt;value := newValue</span><br><span class="line">	else</span><br><span class="line">		// éšæœºç”Ÿæˆæ–°èŠ‚ç‚¹çš„å±‚çº§</span><br><span class="line">		|v| := randomLevel()</span><br><span class="line">		// å¦‚æœæ–°èŠ‚ç‚¹çš„å±‚çº§å¤§äºå½“å‰è·³è¡¨çš„æœ€é«˜å±‚çº§</span><br><span class="line">		// è®°å½•ç›¸åº”çš„ä¿¡æ¯æ–¹ä¾¿åé¢ç»Ÿä¸€æ›´æ–°èŠ‚ç‚¹</span><br><span class="line">		// è¿˜è¦æ›´æ–°å½“å‰è·³è¡¨çš„æœ€é«˜å±‚çº§</span><br><span class="line">		if |v| &gt; list-&gt;level then</span><br><span class="line">			for i := list-&gt;level+1 to |v| do</span><br><span class="line">				update[i] := list-&gt;header</span><br><span class="line">			list-&gt;level := |v|</span><br><span class="line">		x := makeNode(|v|, searchKey, value)</span><br><span class="line">		// å’Œå¸¸è§„çš„é“¾è¡¨æ’å…¥æ“ä½œç±»ä¼¼</span><br><span class="line">		// 1. æ–°èŠ‚ç‚¹è¿æ¥å‰é©±èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">		// 2. å‰é©±èŠ‚ç‚¹åœ¨è¿æ¥æ–°èŠ‚ç‚¹</span><br><span class="line">		for i := 1 to level do</span><br><span class="line">			x-&gt;forward[i] := update[i]-&gt;forward[i]</span><br><span class="line">			update[i]-&gt;forward[i] := x</span><br></pre></td></tr></tbody></table></figure>

<h4 id="é€æ­¥è§£æ-1"><a href="#é€æ­¥è§£æ-1" class="headerlink" title="é€æ­¥è§£æ"></a>é€æ­¥è§£æ</h4><p>ä»¥ä¸‹æ˜¯è®ºæ–‡ä¸­å…³äºæ’å…¥èŠ‚ç‚¹ã€17ã€‘çš„ç¤ºæ„å›¾</p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737706980365.png" alt="1737706980365"></p>
<p>å¯¹ç€è®ºæ–‡çš„ç¤ºæ„å›¾æˆ‘ä»¬é€æ­¥åˆ†æä»£ç çš„æ‰§è¡Œè¿‡ç¨‹</p>
<div class="note info flat"><p><strong>ç¬¦å·è¯´æ˜</strong><br><code>NIL</code>ï¼šç»ˆç‚¹ï¼ˆè¡¨ç¤ºæ— ç©·å¤§ï¼Œæœç´¢åˆ°è¿™ä¸ªèŠ‚ç‚¹è¡¨ç¤ºå¿…é¡»å‘ä¸‹æœç´¢ï¼Œå³æœ¬å±‚éå†ç»“æŸï¼‰<br><code>HEAD</code>ï¼šå¤´èŠ‚ç‚¹<br><code>x</code>ï¼šå½“å‰èŠ‚ç‚¹<br><code>x.forward[i]</code>ï¼šè¡¨ç¤ºxçš„ç¬¬i+1å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆi+1å±‚çš„å‰è¿›æŒ‡é’ˆï¼‰<br><code>x.forward[i].key</code>ï¼šè¡¨ç¤ºxçš„ç¬¬i+1å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„key<br><code>update</code>ï¼šupdateæ•°ç»„ï¼Œè®°å½•äº†éå†è¿‡ç¨‹ä¸­æ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä»å“ªä¸ªèŠ‚ç‚¹å¾€ä¸‹éå†çš„ï¼Œè¿™äº›èŠ‚ç‚¹æ˜¯éœ€è¦åŒæ­¥æ›´æ–°çš„ï¼‰</p>
</div>



<ol start="0">
<li>åˆå§‹åŒ–<code>x=HEAD</code>ï¼Œåˆå§‹åŒ–<code>updateæ•°ç»„</code>ï¼ˆç›´æ¥åˆå§‹åŒ–æœ€å¤§çš„å±‚çº§æ•°çš„å¤§å°ï¼Œåç»­ä¸ç”¨åŠ¨æ€æ‰©ç¼©ï¼‰</li>
</ol>
<p>éå†è¿‡ç¨‹ä¸­ä¸æœç´¢çš„ä¸€æ ·ï¼Œåªæ˜¯åœ¨å‘ä¸‹æœç´¢ä¹‹å‰å°†èŠ‚ç‚¹è®°å½•åˆ°<code>update</code></p>
<h5 id="V-level"><a href="#V-level" class="headerlink" title="|V| <= list->level"></a>|V| &lt;= list-&gt;level</h5><p><strong>æ–°èŠ‚ç‚¹å±‚çº§ä¸è¶…è¿‡å½“å‰è·³è¡¨çš„æœ€é«˜å±‚çº§</strong></p>
<p>è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦æ›´æ–°æ–°èŠ‚ç‚¹å¯¹åº”çš„å±‚çº§ä¸Šçš„å‰é©±èŠ‚ç‚¹å³å¯</p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/insert-case1.svg" alt="insert-case1"></p>
<h5 id="V-list-level"><a href="#V-list-level" class="headerlink" title="|V| > list->level"></a>|V| &gt; list-&gt;level</h5><p><strong>æ–°èŠ‚ç‚¹å±‚çº§è¶…è¿‡å½“å‰è·³è¡¨çš„æœ€é«˜å±‚çº§</strong></p>
<p>éå†è¿‡ç¨‹ä¸­ç”±äºå¹¶ä¸ç»è¿‡<code>HEAD</code>æ‰€ä»¥<code>update</code>ä¸­ä¸ä¼šæœ‰è®°å½•ï¼Œè€Œå½“æ–°èŠ‚ç‚¹çš„å±‚çº§è¶…è¿‡å½“å‰è·³è¡¨æœ€é«˜å±‚çº§çš„æ—¶å€™åˆéœ€è¦æ›´æ–°<code>HEAD</code>çš„å‰è¿›æŒ‡é’ˆï¼Œä¸ºäº†åç»­æ“ä½œé€»è¾‘ç»Ÿä¸€ï¼Œå•ç‹¬æ‰§è¡Œä¸€éå¾ªç¯èµ‹å€¼ï¼Œè¿™å°±æ˜¯ä»¥ä¸‹ä»£ç çš„å«ä¹‰</p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737712286704.png" alt="1737712286704"></p>
<p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/insert-case2.svg" alt="insert-case2"></p>
<h3 id="Deletionï¼ˆåˆ é™¤ï¼‰"><a href="#Deletionï¼ˆåˆ é™¤ï¼‰" class="headerlink" title="Deletionï¼ˆåˆ é™¤ï¼‰"></a>Deletionï¼ˆåˆ é™¤ï¼‰</h3><h4 id="ç®—æ³•ä¼ªä»£ç -2"><a href="#ç®—æ³•ä¼ªä»£ç -2" class="headerlink" title="ç®—æ³•ä¼ªä»£ç "></a>ç®—æ³•ä¼ªä»£ç </h4><p><img src= "/images/loading.gif" data-lazy-src="/posts/2e152a56/1737712378629.png" alt="1737712378629"></p>
<h4 id="é€æ­¥è§£æ-2"><a href="#é€æ­¥è§£æ-2" class="headerlink" title="é€æ­¥è§£æ"></a>é€æ­¥è§£æ</h4><p>è·³è¡¨èŠ‚ç‚¹çš„åˆ é™¤ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå’Œé“¾è¡¨çš„åˆ é™¤æ“ä½œç›¸åŒï¼Œåªæ˜¯å¤šäº†å¤šå±‚çº§èŠ‚ç‚¹çš„æ›´æ–°çš„æ“ä½œ</p>
<ol>
<li><p>æœç´¢å‰é©±èŠ‚ç‚¹</p>
</li>
<li><p>æ›´æ–°æ‰€æœ‰ç›¸å…³å±‚çº§ï¼ˆ<code>update</code>ï¼‰çš„æŒ‡é’ˆï¼ˆæ–­å¼€ä¸è¢«åˆ é™¤èŠ‚ç‚¹çš„è¿æ¥ï¼‰</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">for i := 1 to list-&gt;level do</span><br><span class="line">	// åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œå¦‚æœå‰ä¸€ä¸ªèŠ‚ç‚¹è¿æ¥çš„ä¸æ˜¯è¢«åˆ é™¤èŠ‚ç‚¹ï¼Œé‚£å°±ä¸éœ€è¦æ›´æ–°ï¼Œå¯ä»¥æå‰ä¸­æ­¢å¾ªç¯</span><br><span class="line">	if update[i]-&gt;forward[i] != x then break</span><br><span class="line">	update[i]-&gt;forward[i] := x-&gt;forward[i]</span><br><span class="line">// æ˜¾å¼é‡Šæ”¾</span><br><span class="line">free(x)</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ä»ä¸Šåˆ°ä¸‹æ›´æ–°<code>HEAD</code>æŒ‡é’ˆï¼Œè·³è¡¨å±‚çº§æ›´æ–°</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">// é€šè¿‡å¦ä¸€ä¸ªå¾ªç¯æ¥æ›´æ–°å½“å‰è·³è¡¨çš„æœ€é«˜å±‚çº§</span><br><span class="line">// èŒè´£å•ä¸€ï¼ˆä¸€ä¸ªå¾ªç¯æ›´æ–°èŠ‚ç‚¹æŒ‡é’ˆï¼Œä¸€ä¸ªå¾ªç¯æ›´æ–°å±‚çº§æ•°ï¼‰ï¼Œä»£ç å¯è¯»æ€§æ›´å¥½</span><br><span class="line">while list-&gt;level &gt; 1 and</span><br><span class="line">	list-&gt;header-&gt;forward[list-&gt;level] = NIL do</span><br><span class="line">	list-&gt;level := list-&gt;level-1</span><br></pre></td></tr></tbody></table></figure></li>
</ol>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><blockquote>
<p>  <a target="_blank" rel="noopener" href="https://gallery.selfboot.cn/zh/algorithms/skiplist">è·³è¡¨å¯è§†åŒ–ï¼šhttps://gallery.selfboot.cn/zh/algorithms/skiplist</a></p>
<p>  <a target="_blank" rel="noopener" href="https://15721.courses.cs.cmu.edu/spring2018/papers/08-oltpindexes1/pugh-skiplists-cacm1990.pdf">è·³è¡¨è®ºæ–‡ï¼šhttps://15721.courses.cs.cmu.edu/spring2018/papers/08-oltpindexes1/pugh-skiplists-cacm1990.pdf</a></p>
<p>  <a target="_blank" rel="noopener" href="https://oi-wiki.org/ds/skiplist/">è·³è¡¨ - OI Wiki</a></p>
<p>  <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIxMjE5MTE1Nw==&amp;mid=2653190879&amp;idx=1&amp;sn=1916d0f6e72f34408261d70d13eecf5b&amp;chksm=8c990805bbee81137dd6cadbe7b69cf84020233385cc5d7cee778d10977b6f9b28ea235b93e0&amp;scene=21#wechat_redirect">æ¼«ç”»ï¼šä»€ä¹ˆæ˜¯è·³è·ƒè¡¨ï¼Ÿ</a></p>
</blockquote>
</body></html></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://sucrayon.top">é­šç¦¾</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://sucrayon.top/posts/2e152a56/">http://sucrayon.top/posts/2e152a56/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="http://sucrayon.top" target="_blank">Crayonã®åšå®¢</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a><a class="post-meta__tags" href="/tags/%E8%B7%B3%E8%A1%A8/">è·³è¡¨</a></div><div class="post-share"><div class="social-share" data-image="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%8E%9F%E7%90%86%E7%AF%87.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>èµåŠ©</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/wxpay.png" target="_blank"><img class="post-qr-code-img" src= "/images/loading.gif" data-lazy-src="/images/wxpay.png" alt="wxpay"/></a><div class="post-qr-code-desc">wxpay</div></li><li class="reward-item"><a href="/images/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "/images/loading.gif" data-lazy-src="/images/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/eca128ac/" title="Redis-å­—å…¸"><img class="cover" src= "/images/loading.gif" data-lazy-src="/images/cover/nosql/redis/%E5%AD%97%E5%85%B8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">Redis-å­—å…¸</div></div><div class="info-2"><div class="info-item-1">Redisä¸­çš„å­—å…¸è¢«å¹¿æ³›ç”¨äºå®ç°Redisçš„å„ç§åŠŸèƒ½ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°æ®åº“å’Œå“ˆå¸Œé”®ã€‚å­—å…¸ä¼šæ ¹æ®è´Ÿè½½æƒ…å†µè‡ªåŠ¨è¿›è¡Œæ‰©å®¹å’Œæ”¶ç¼©ï¼Œè€Œå’Œå…¶ä»–è¯­è¨€å“ˆå¸Œè¡¨çš„æ‰©ç¼©å®¹ä¸åŒçš„æ˜¯ï¼ŒRedisé‡‡ç”¨æ¸è¿›å¼æ“ä½œçš„æ–¹å¼å®ç°ï¼Œä»¥ä¿è¯æ‰©ç¼©å®¹æœŸé—´æœåŠ¡çš„æ€§èƒ½ç¨³å®š</div></div></div></a><a class="pagination-related" href="/posts/b1617a14/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰"><img class="cover" src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Golang%EF%BC%89.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰</div></div><div class="info-2"><div class="info-item-1">ç®€ä»‹æœ¬æ–‡å°†å‚ç…§è®ºæ–‡ä½¿ç”¨Golangè¯­è¨€å®ç°è·³è¡¨ å»ºè®®é˜…è¯»ï¼šè·³è¡¨-åŸç†ç¯‡ | Crayonã®åšå®¢ æœ¬æ–‡æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œï¼š  ç®€ä»‹ ç¼–ç å®ç° ç»“æ„ä½“å®šä¹‰ éšæœºå‡½æ•° æŸ¥æ‰¾ æ’å…¥ åˆ é™¤   ä»£ç æµ‹è¯• æ€§èƒ½å¯¹æ¯” æ•°æ®é‡1k æ•°æ®é‡1w æ•°æ®é‡10w     Leetcode  ç¼–ç å®ç°æœ¬æ¬¡å®ç°å’Œè®ºæ–‡ä¸€æ ·ï¼ŒèŠ‚ç‚¹é¡ºåºä»¥å‡åºæ’åº ç»“æ„ä½“å®šä¹‰12345678910111213141516type (	Node struct {		Key      float64		Value    interface{}		Forwards []*Node	}	SkipList struct {		Head     *Node		Level    int		// MaxLevel è·³è¡¨çš„æœ€å¤§å±‚çº§ï¼Œè¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°ä¸åŒæœ€é«˜å±‚çº§çš„è·³è¡¨		MaxLevel int		// P å±‚çº§ä¸Šå‡çš„æ¦‚ç‡		P        float64	})  éšæœºå‡½æ•°å’Œè®ºæ–‡å¦‚å‡ºä¸€è¾™ï¼Œè¿™é‡Œä½¿ç”¨äº†golangçš„randåŒ…æ¥ç”Ÿæˆéšæœºæ•° 1234567func (s *SkipList) randomLevel() int {	level :=...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/a381e6f7/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰"><img class="cover" src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Redis%EF%BC%89.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2025-02-02</div><div class="info-item-2">è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰</div></div><div class="info-2"><div class="info-item-1">ç®€ä»‹æœ¬æ–‡åŸºäº Redis3.0 ç‰ˆæœ¬çš„æºç è§£è¯»è·³è¡¨çš„å®ç° Redis3.0 æºç é“¾æ¥ï¼š[redis/redis at 3.0.0](https://github.com/redis/redis/tree/3.0.0)  å»ºè®®é˜…è¯»ï¼š  è·³è¡¨-åŸç†ç¯‡ | Crayonã®åšå®¢  æœ¬æ–‡æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œï¼š  ç®€ä»‹ èƒŒæ™¯çŸ¥è¯† æºç è§£è¯» ç»“æ„ä½“å®šä¹‰ éšæœºå‡½æ•° æŸ¥æ‰¾ æ’å…¥ åˆ é™¤    èƒŒæ™¯çŸ¥è¯†Redis å†…ç½®äº†å¤šç§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­`zset`ï¼ˆæœ‰åºé›†åˆï¼Œè‹±æ–‡åï¼šsorted setï¼‰å…¼å…·é›†åˆçš„å…ƒç´ å”¯ä¸€æ€§ä»¥åŠæœ‰åºæ€§ï¼ˆå…ƒç´ æœ‰åºæ€§ï¼‰ä¸¤ä¸ªç‰¹æ€§ï¼Œè¢«å¹¿æ³›ç”¨åœ¨æ—¥å¸¸ä¸šåŠ¡éœ€æ±‚çš„å¼€å‘ä¸­  zsetç”±å¤šä¸ªæ•°æ®ç»“æ„ç»„åˆå®ç°çš„ï¼Œè€Œè·³è¡¨ï¼ˆzskiplistï¼‰å°±æ˜¯å®ç°æœ‰åºæ€§çš„å…³é”®æ•°æ®ç»“æ„ï¼ŒRedis å°±æ˜¯é€šè¿‡è·³è¡¨å®ç°äº†zsetç»“æ„çš„æ’åºã€æ ¹æ®æ’åçš„èŒƒå›´è·å–ç­‰æ“ä½œ Redis è‡ªå·±å®ç°äº†è·³è¡¨ç»“æ„ï¼Œä¸ºç¬¦åˆè‡ªèº«ä¸šåŠ¡æ“ä½œçš„éœ€è¦å¢åŠ äº†ä¸€äº›é¢å¤–çš„å­—æ®µä»¥åŠæ“ä½œï¼Œè™½ç„¶å’ŒåŸå§‹è®ºæ–‡ä¸­çš„ç»“æ„ä¸å¤ªä¸€æ ·ï¼Œä½†åŸºæœ¬çš„æ“ä½œé€»è¾‘éƒ½æ˜¯ç›¸åŒçš„  æºç è§£è¯»ç»“æ„ä½“å®šä¹‰zset1234typedef struct zset {    dict *dict;   ...</div></div></div></a><a class="pagination-related" href="/posts/b1617a14/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰"><img class="cover" src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Golang%EF%BC%89.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2025-01-25</div><div class="info-item-2">è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰</div></div><div class="info-2"><div class="info-item-1">ç®€ä»‹æœ¬æ–‡å°†å‚ç…§è®ºæ–‡ä½¿ç”¨Golangè¯­è¨€å®ç°è·³è¡¨ å»ºè®®é˜…è¯»ï¼šè·³è¡¨-åŸç†ç¯‡ | Crayonã®åšå®¢ æœ¬æ–‡æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œï¼š  ç®€ä»‹ ç¼–ç å®ç° ç»“æ„ä½“å®šä¹‰ éšæœºå‡½æ•° æŸ¥æ‰¾ æ’å…¥ åˆ é™¤   ä»£ç æµ‹è¯• æ€§èƒ½å¯¹æ¯” æ•°æ®é‡1k æ•°æ®é‡1w æ•°æ®é‡10w     Leetcode  ç¼–ç å®ç°æœ¬æ¬¡å®ç°å’Œè®ºæ–‡ä¸€æ ·ï¼ŒèŠ‚ç‚¹é¡ºåºä»¥å‡åºæ’åº ç»“æ„ä½“å®šä¹‰12345678910111213141516type (	Node struct {		Key      float64		Value    interface{}		Forwards []*Node	}	SkipList struct {		Head     *Node		Level    int		// MaxLevel è·³è¡¨çš„æœ€å¤§å±‚çº§ï¼Œè¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°ä¸åŒæœ€é«˜å±‚çº§çš„è·³è¡¨		MaxLevel int		// P å±‚çº§ä¸Šå‡çš„æ¦‚ç‡		P        float64	})  éšæœºå‡½æ•°å’Œè®ºæ–‡å¦‚å‡ºä¸€è¾™ï¼Œè¿™é‡Œä½¿ç”¨äº†golangçš„randåŒ…æ¥ç”Ÿæˆéšæœºæ•° 1234567func (s *SkipList) randomLevel() int {	level :=...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "/images/loading.gif" data-lazy-src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">é­šç¦¾</div><div class="author-info-description">Crayon</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">15</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SuCrayon"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/SuCrayon" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:614820984@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%B3%E8%A1%A8"><span class="toc-text">ä»€ä¹ˆæ˜¯è·³è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BST%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">BSTå­˜åœ¨çš„é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%B3%E8%A1%A8%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-text">è·³è¡¨çš„ç»“æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Initialization%EF%BC%88%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%89"><span class="toc-text">Initializationï¼ˆåˆå§‹åŒ–ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Search%EF%BC%88%E6%9F%A5%E6%89%BE%EF%BC%89"><span class="toc-text">Searchï¼ˆæŸ¥æ‰¾ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E4%BC%AA%E4%BB%A3%E7%A0%81"><span class="toc-text">ç®—æ³•ä¼ªä»£ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%90%E6%AD%A5%E8%A7%A3%E6%9E%90"><span class="toc-text">é€æ­¥è§£æ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E5%87%BD%E6%95%B0%EF%BC%88Random-Level%EF%BC%89"><span class="toc-text">éšæœºå‡½æ•°ï¼ˆRandom Levelï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Insertion%EF%BC%88%E6%8F%92%E5%85%A5%EF%BC%89"><span class="toc-text">Insertionï¼ˆæ’å…¥ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E4%BC%AA%E4%BB%A3%E7%A0%81-1"><span class="toc-text">ç®—æ³•ä¼ªä»£ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%90%E6%AD%A5%E8%A7%A3%E6%9E%90-1"><span class="toc-text">é€æ­¥è§£æ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#V-level"><span class="toc-text">|V| &lt;&#x3D; list-&gt;level</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#V-list-level"><span class="toc-text">|V| &gt; list-&gt;level</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Deletion%EF%BC%88%E5%88%A0%E9%99%A4%EF%BC%89"><span class="toc-text">Deletionï¼ˆåˆ é™¤ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E4%BC%AA%E4%BB%A3%E7%A0%81-2"><span class="toc-text">ç®—æ³•ä¼ªä»£ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%90%E6%AD%A5%E8%A7%A3%E6%9E%90-2"><span class="toc-text">é€æ­¥è§£æ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="card-widget card-post-series"><div class="item-headline"><i class="fa-solid fa-layer-group"></i><span>ç³»åˆ—æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/2e152a56/" title="è·³è¡¨-åŸç†ç¯‡"><img src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%8E%9F%E7%90%86%E7%AF%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è·³è¡¨-åŸç†ç¯‡"></a><div class="content"><a class="title" href="/posts/2e152a56/" title="è·³è¡¨-åŸç†ç¯‡">è·³è¡¨-åŸç†ç¯‡</a><time datetime="2025-01-23T15:41:15.000Z" title="å‘è¡¨äº 2025-01-23 23:41:15">2025-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b1617a14/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰"><img src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Golang%EF%BC%89.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰"></a><div class="content"><a class="title" href="/posts/b1617a14/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰">è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰</a><time datetime="2025-01-25T08:06:00.000Z" title="å‘è¡¨äº 2025-01-25 16:06:00">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a381e6f7/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰"><img src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Redis%EF%BC%89.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰"></a><div class="content"><a class="title" href="/posts/a381e6f7/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰">è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰</a><time datetime="2025-01-28T06:20:00.000Z" title="å‘è¡¨äº 2025-01-28 14:20:00">2025-01-28</time></div></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/e3e1c4a3/" title="LC-77-ç»„åˆ"><img src= "/images/loading.gif" data-lazy-src="/images/cover/algorithm/LC-77-%E7%BB%84%E5%90%88.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LC-77-ç»„åˆ"/></a><div class="content"><a class="title" href="/posts/e3e1c4a3/" title="LC-77-ç»„åˆ">LC-77-ç»„åˆ</a><time datetime="2025-02-03T08:58:00.000Z" title="æ›´æ–°äº 2025-02-03 16:58:00">2025-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a381e6f7/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰"><img src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Redis%EF%BC%89.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰"/></a><div class="content"><a class="title" href="/posts/a381e6f7/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰">è·³è¡¨-å®ç°ç¯‡ï¼ˆRedisï¼‰</a><time datetime="2025-02-02T09:47:21.000Z" title="æ›´æ–°äº 2025-02-02 17:47:21">2025-02-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b1617a14/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰"><img src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%AE%9E%E7%8E%B0%E7%AF%87%EF%BC%88Golang%EF%BC%89.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰"/></a><div class="content"><a class="title" href="/posts/b1617a14/" title="è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰">è·³è¡¨-å®ç°ç¯‡ï¼ˆGolangï¼‰</a><time datetime="2025-01-25T08:06:00.000Z" title="æ›´æ–°äº 2025-01-25 16:06:00">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2e152a56/" title="è·³è¡¨-åŸç†ç¯‡"><img src= "/images/loading.gif" data-lazy-src="/images/cover/data-structure/skip-list/%E8%B7%B3%E8%A1%A8-%E5%8E%9F%E7%90%86%E7%AF%87.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è·³è¡¨-åŸç†ç¯‡"/></a><div class="content"><a class="title" href="/posts/2e152a56/" title="è·³è¡¨-åŸç†ç¯‡">è·³è¡¨-åŸç†ç¯‡</a><time datetime="2025-01-23T15:41:15.000Z" title="æ›´æ–°äº 2025-01-23 23:41:15">2025-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a8e92d53/" title="Golang-æ•°ç»„ä¸åˆ‡ç‰‡"><img src= "/images/loading.gif" data-lazy-src="/images/cover/programming-language/golang/%E6%95%B0%E7%BB%84%E4%B8%8E%E5%88%87%E7%89%87.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-æ•°ç»„ä¸åˆ‡ç‰‡"/></a><div class="content"><a class="title" href="/posts/a8e92d53/" title="Golang-æ•°ç»„ä¸åˆ‡ç‰‡">Golang-æ•°ç»„ä¸åˆ‡ç‰‡</a><time datetime="2024-12-20T15:37:29.000Z" title="æ›´æ–°äº 2024-12-20 23:37:29">2024-12-20</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/images/cover/data-structure/skip-list/è·³è¡¨-åŸç†ç¯‡.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By é­šç¦¾</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><div style="width:300px;margin:0 auto; padding:20px 0;"><div style="display: flex;align-items: center;justify-content: center;"><img src= "/images/loading.gif" data-lazy-src="/images/police-icon.png" style="margin-right: 4px; width: 20px; height: 20px;" /><div><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">ç²¤ICPå¤‡2022062775å·-1</a></div></div><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030902003468" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:#939393;">ç²¤å…¬ç½‘å®‰å¤‡ 44030902003468å·</p></a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="å‰å¾€è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://unpkg.com/vanilla-lazyload@17.8.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const initValine = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyValine = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const valineConfig = {
      el: '#vcomment',
      appId: 'WkTbxHB8e44QglvhnPIwLU2n-gzGzoHsz',
      appKey: 'eXdRcA3tj4kM837wFGylIyBt',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      visitor: true,
      ...option,
      path: isShuoshuo ? path : (option && option.path) || window.location.pathname
    }

    new Valine(valineConfig)
  }

  const loadValine = async (el, path) => {
    if (typeof Valine === 'function') {
      initValine(el, path)
    } else {
      await btf.getScript('https://unpkg.com/valine@1.5.1/dist/Valine.min.js')
      initValine(el, path)
    }
  }

  if (isShuoshuo) {
    'Valine' === 'Valine'
      ? window.shuoshuoComment = { loadComment: loadValine }
      : window.loadOtherComment = loadValine
    return
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><script defer="defer" id="ribbon" src="https://unpkg.com/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"display":{"position":"left","width":150,"height":300,"hOffset":50},"mobile":{"show":false},"react":{"opacity":0.8},"log":false});</script></body></html>